{
    "sourceFile": "resources/views/backend/index.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1688990770831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1688994365486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,7 @@\n @extends('backend.layout.main')\n @section('content')\n-<x-slot name=\"header\">\n-    <h2 class=\"font-semibold text-xl text-gray-800 leading-tight\">\n-        {{ __('Dashboard') }}\n-    </h2>\n-</x-slot>\n+\n <body>\n     <div class=\"container-xxl flex-grow-1 container-p-y\">\n         <div class=\"row\">\n             <!-- Order Statistics -->\n"
                }
            ],
            "date": 1688990770831,
            "name": "Commit-0",
            "content": "@extends('backend.layout.main')\n@section('content')\n<x-slot name=\"header\">\n    <h2 class=\"font-semibold text-xl text-gray-800 leading-tight\">\n        {{ __('Dashboard') }}\n    </h2>\n</x-slot>\n<body>\n    <div class=\"container-xxl flex-grow-1 container-p-y\">\n        <div class=\"row\">\n            <!-- Order Statistics -->\n            <div class=\"col-md-6 col-lg-4 col-xl-4 order-0 mb-4\">\n              <div class=\"card h-100\">\n                <div class=\"card-header d-flex align-items-center justify-content-between pb-0\">\n                  <div class=\"card-title mb-0\">\n                    <h5 class=\"m-0 me-2\"><span class=\"text-primary\">Orders Status</span></h5>\n                    <hr>\n                  </div>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"d-flex justify-content-between align-items-center mb-3\">\n                    <div class=\"d-flex flex-column\">\n                        @php\n                            $totalorders = 0;\n                        @endphp\n                        @foreach ($orders as $order)\n                            @if (Carbon::parse($order['created_at'])->month === Carbon::now()->month)\n                            @php\n                                $totalorders += 1;\n                            @endphp\n                            @endif\n                        @endforeach\n                      <h2 class=\"mb-2\">{{$totalorders}}</h2>\n                      <span>Total Orders this Month</span>\n                    </div>\n                    <div id=\"orderStatisticsChart\"></div>\n                  </div>\n                  <ul class=\"p-0 m-0\">\n                    <li class=\"d-flex mb-4 pb-1\">\n                      <div class=\"avatar flex-shrink-0 me-3\">\n                        <span class=\"avatar-initial rounded bg-label-warning\"\n                          ><i class='bx bxs-time-five'></i></span>\n                      </div>\n                      <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                        <div class=\"me-2\">\n                          <h6 class=\"mb-0\">Pending</h6>\n                          <small class=\"text-muted\"></small>\n                        </div>\n                        <div class=\"user-progress\">\n                            @php\n                                $pendingorders=0;\n                            @endphp\n                            @foreach ($orders as $order)\n                            @if (Carbon::parse($order['created_at'])->month === Carbon::now()->month)\n                            @if ($order['status'] === \"Pending\")\n                            @php $pendingorders += 1; @endphp\n                            @endif\n                            @endif\n                        @endforeach\n                        <small class=\"fw-semibold\">{{$pendingorders}}</small>\n                        </div>\n                      </div>\n                    </li>\n                    <li class=\"d-flex mb-4 pb-1\">\n                      <div class=\"avatar flex-shrink-0 me-3\">\n                        <span class=\"avatar-initial rounded bg-label-info\"><i class='bx bx-dots-horizontal-rounded'></i></span>\n                      </div>\n                      <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                        <div class=\"me-2\">\n                          <h6 class=\"mb-0\">Processing</h6>\n                          <small class=\"text-muted\"></small>\n                        </div>\n                        <div class=\"user-progress\">\n                            @php\n                            $processingorders=0;\n                            @endphp\n                            @foreach ($orders as $order)\n                            @if (Carbon::parse($order['created_at'])->month === Carbon::now()->month)\n                                @if ($order['status'] === \"Processing\")\n                                @php $processingorders += 1; @endphp\n                                @endif\n                            @endif\n                            @endforeach\n                        <small class=\"fw-semibold\">{{$processingorders}}</small>\n                        </div>\n                      </div>\n                    </li>\n                    <li class=\"d-flex mb-4 pb-1\">\n                      <div class=\"avatar flex-shrink-0 me-3\">\n                        <span class=\"avatar-initial rounded bg-label-success\"><i class='bx bx-check-double'></i></span>\n                      </div>\n                      <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                        <div class=\"me-2\">\n                          <h6 class=\"mb-0\">Completed</h6>\n                          <small class=\"text-muted\"></small>\n                        </div>\n                        <div class=\"user-progress\">\n                            @php\n                            $completedorders=0;\n                            @endphp\n                            @foreach ($orders as $order)\n                            @if (Carbon::parse($order['created_at'])->month === Carbon::now()->month)\n                            @if ($order['status'] === \"Completed\")\n                            @php $completedorders += 1; @endphp\n                            @endif\n                            @endif\n                            @endforeach\n                    <small class=\"fw-semibold\">{{$completedorders}}</small>\n                        </div>\n                      </div>\n                    </li>\n                    <li class=\"d-flex\">\n                      <div class=\"avatar flex-shrink-0 me-3\">\n                        <span class=\"avatar-initial rounded bg-label-danger\"\n                          ><i class='bx bx-x'></i></span>\n                      </div>\n                      <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                        <div class=\"me-2\">\n                          <h6 class=\"mb-0\">Cancelled</h6>\n                          <small class=\"text-muted\"></small>\n                        </div>\n                        <div class=\"user-progress\">\n                            @php\n                            $cancelledorders=0;\n                            @endphp\n                            @foreach ($orders as $order)\n                            @if (Carbon::parse($order['created_at'])->month === Carbon::now()->month)\n                            @if ($order['status'] === \"Cancelled\")\n                            @php $cancelledorders += 1; @endphp\n                            @endif\n                            @endif\n                            @endforeach\n                            <small class=\"fw-semibold\">{{$cancelledorders}}</small>\n                        </div>\n                      </div>\n                    </li>\n\n                  </ul>\n                  <div class=\"mt-5\">\n                    <form action=\"{{ url('/admin/orders') }}\" >\n                    <button type=\"submit\" class=\"btn btn-primary me-2\">Check Orders</button></form>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n            <!--/ Order Statistics -->\n\n            <!-- Stock Statistics -->\n            <div class=\"col-md-6 col-lg-4 col-xl-4 order-0 mb-4\">\n                <div class=\"card h-100\">\n                  <div class=\"card-header d-flex align-items-center justify-content-between pb-0\">\n                    <div class=\"card-title mb-0\">\n                      <h5 class=\"m-0 me-2\"><span class=\"text-primary\">Inventory Status</span></h5>\n                      <hr>\n                    </div>\n                  </div>\n                  <div class=\"card-body\">\n                    <div class=\"d-flex justify-content-between align-items-center mb-3\">\n                      <div class=\"d-flex flex-column\">\n                          @php\n                              $totalproducts = 0;\n                          @endphp\n                          @foreach ($variants as $variant)\n                              @php\n                                  $totalproducts += $variant['product_quantity'];\n                              @endphp\n                          @endforeach\n                        <h2 class=\"mb-2\">{{$totalproducts}}</h2>\n                        <span>Total Products</span>\n                      </div>\n                      <div id=\"orderStatisticsChart\"></div>\n                    </div>\n                    <ul class=\"p-0 m-0\">\n                      <li class=\"d-flex mb-4 pb-1\">\n                        <div class=\"avatar flex-shrink-0 me-3\">\n                          <span class=\"avatar-initial rounded bg-label-danger\"\n                            ><i class='bx bxs-error-circle'></i></span>\n                        </div>\n                        <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                          <div class=\"me-2\">\n                            <h6 class=\"mb-0\">Products Low in Stock</h6>\n                            <small class=\"text-muted\"></small>\n                          </div>\n                          <div class=\"user-progress\">\n                              @php\n                                  $lowstock=0;\n                              @endphp\n                              @foreach ($variants as $variant)\n                              @if ($variant['product_quantity'] <= 5 && $variant['product_quantity'] > 0 )\n                              @php $lowstock += 1; @endphp\n                              @endif\n                          @endforeach\n                          <small class=\"fw-semibold\">{{$lowstock}}</small>\n                          </div>\n                        </div>\n                      </li>\n                      <li class=\"d-flex mb-4 pb-1\">\n                        <div class=\"avatar flex-shrink-0 me-3\">\n                          <span class=\"avatar-initial rounded bg-label-secondary\"><i class='bx bx-no-entry'></i></span>\n                        </div>\n                        <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                          <div class=\"me-2\">\n                            <h6 class=\"mb-0\">Products Out of Stock</h6>\n                            <small class=\"text-muted\"></small>\n                          </div>\n                          <div class=\"user-progress\">\n                            @php\n                            $outofstock=0;\n                        @endphp\n                        @foreach ($variants as $variant)\n                        @if ($variant['product_quantity'] == 0)\n                        @php $outofstock += 1; @endphp\n                        @endif\n                    @endforeach\n                          <small class=\"fw-semibold\">{{$outofstock}}</small>\n                          </div>\n                        </div>\n                    </li>\n                      <li class=\"d-flex mb-4 pb-1\">\n                        <div class=\"avatar flex-shrink-0 me-3\">\n                          {{-- <span class=\"avatar-initial rounded bg-label-success\"><i class='bx bx-check-double'></i></span> --}}\n                        </div>\n                        <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                          <div class=\"me-2\">\n                            <h6 class=\"mb-0\"></h6>\n                            <small class=\"text-muted\"></small>\n                          </div>\n                          <div class=\"user-progress\">\n                      <small class=\"fw-semibold\"></small>\n                          </div>\n                        </div>\n                      </li>\n                      <li class=\"d-flex mb-4 pb-1\">\n                        <div class=\"avatar flex-shrink-0 me-3\">\n                          {{-- <span class=\"avatar-initial rounded bg-label-success\"><i class='bx bx-check-double'></i></span> --}}\n                        </div>\n                        <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                          <div class=\"me-2\">\n                            <h6 class=\"mb-0\"></h6>\n                            <small class=\"text-muted\"></small>\n                          </div>\n                          <div class=\"user-progress\">\n                      <small class=\"fw-semibold\"></small>\n                          </div>\n                        </div>\n                    </li>\n                    </ul>\n                    <div class=\"mt-5\">\n                        <form action=\"{{ url('/admin/products') }}\" >\n                        <button type=\"submit\" class=\"btn btn-primary me-2\">Check Products</button></form>\n                      </div>\n                    </div>\n                  </div>\n            </div>\n            <!--/ Stock Statistics -->\n\n            <!-- Sales Statistics -->\n            <div class=\"col-md-6 col-lg-4 col-xl-4 order-0 mb-4\">\n                <div class=\"card h-100\">\n                  <div class=\"card-header d-flex align-items-center justify-content-between pb-0\">\n                    <div class=\"card-title mb-0\">\n                      <h5 class=\"m-0 me-2\"><span class=\"text-primary\">Sales</span></h5>\n                      <hr>\n                    </div>\n                  </div>\n                  <div class=\"card-body\">\n                    <div class=\"d-flex justify-content-between align-items-center mb-3\">\n                      <div class=\"d-flex flex-column\">\n                          @php\n                              $totalbill = 0;\n                          @endphp\n                          @foreach ($orders as $order)\n                          @if (Carbon::parse($order['created_at'])->month === Carbon::now()->month)\n                            @if ($order['status']===\"Completed\")\n                            @php\n                            $totalbill += $order['totalbill'];\n                            @endphp\n                            @endif\n                            @endif\n                          @endforeach\n                        <h2 class=\"mb-2\">Rs. {{ number_format($totalbill , 2, '.', ',') }}</h2>\n                        <span>Sales this Month</span>\n                      </div>\n                      <div id=\"orderStatisticsChart\"></div>\n                    </div>\n                    <ul class=\"p-0 m-0\">\n                        @foreach ($categories as $category)\n                        <li class=\"d-flex mb-4 pb-1\">\n                            <div class=\"avatar flex-shrink-0 me-3\">\n                              <span class=\"avatar-initial rounded bg-label-primary\"\n                                ><i class=\"fa fa-list\"></i></span>\n                            </div>\n                            <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-between gap-2\">\n                              <div class=\"me-2\">\n                                <h6 class=\"mb-0\">{{$category['category_name']}}</h6>\n                                <small class=\"text-muted\"></small>\n                              </div>\n                              <div class=\"user-progress\">\n                                  @php\n                                      $clothing=0;\n                                  @endphp\n                                  @foreach($orders as $order)\n                                  @if($order['status']===\"Completed\")\n                                  @php\n                                      $orderno=$order['order_number'];\n                                  @endphp\n                                  @foreach ($orderitems as $orderitem)\n                                    @if ($orderitem['product_category'] === strtolower($category['category_name']) && $orderitem['order_number']=== $orderno)\n                                        @php\n                                            $clothing += ($orderitem[\"product_price\"] * $orderitem[\"product_quantity\"]);\n                                        @endphp\n                                    @endif\n                              @endforeach\n                              @endif\n                              @endforeach\n                              <small class=\"fw-semibold\">Rs. {{ number_format($clothing , 2, '.', ',') }}</small>\n                              </div>\n                            </div>\n                          </li>\n                        @endforeach\n                    </ul>\n                    </div>\n                  </div>\n            </div>\n            <!--/ Sales Statistics -->\n\n              </div>\n          </div>\n  </body>\n\n@endsection\n"
        }
    ]
}